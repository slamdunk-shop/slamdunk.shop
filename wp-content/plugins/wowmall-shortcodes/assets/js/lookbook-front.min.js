!function(o){"use strict";function a(a,e){var t=a.closest(".wowmall-lookbook-slide-wrapper");t.append(s[e]),o.isFunction(o.fn.lazyload)&&o(".wowmall-lookbook-popup-content img.swiper-lazy:not(.swiper-lazy-loaded)").each(function(){var a=o(this);a.lazyload({data_attribute:"src",load:function(){a.addClass("swiper-lazy-loaded");var o=a.data("sizes"),l=a.data("srcset");a.attr({sizes:o,srcset:l}).removeAttr("data-srcset data-sizes data-src"),a.hasClass("lazy-svg")&&a.next("svg").remove()}})}),l(),o(window).on("resize",o.debounce(500,l))}function l(){o(".wowmall-lookbook-popup-content").each(function(){var a,l,e,s,i=o(this),r=i.data("id"),d=o(".wowmall-lookbook-point#"+r),n=d.closest(".wowmall-lookbook-slide-wrapper"),c=i.outerWidth(),w=i.outerHeight(),k=n.outerWidth(),p=n.outerHeight(),u=parseFloat(d.css("left")),m=parseFloat(d.css("top")),b="";k<c+u?c+10<=u?(a="auto",l=100*(k-u)/k+"%"):b="centered":(a=100*u/k+"%",l="auto"),p<w+m?w+10<=m?(e="auto",s=100*(p-m)/p+"%"):b="centered":(e=100*m/p+"%",s="auto"),"centered"==b&&(a="50%",l="auto",e="50%",s="auto"),i.css({left:a,top:e,bottom:s,right:l}).removeClass("centered").addClass(b).find(".close").on("click",t)})}function e(l){if("undefined"!=typeof wowmallLookbook&&l.target===l.currentTarget){var i=o(l.target),r=i.attr("id");i.hasClass("active")||i.hasClass("disabled")||(t(),i.off("click",e).addClass("active"),"undefined"==typeof s[r]?(o(".wowmall-lookbook-slide-wrapper .wowmall-lookbook-point").not(".active").addClass("disabled"),i.append('<span class="wowmall-lookbook-loader"/>'),o.post(wowmallLookbook.ajaxurl,{action:"wowmall_lookbook_get_product",id:r},function(l){i.find(".wowmall-lookbook-loader").remove(),s[r]=l.data,o(".wowmall-lookbook-slide-wrapper .wowmall-lookbook-point").removeClass("disabled"),a(i,r)})):a(i,r),i.off("click",e))}}function t(){o(window).off("resize",o.debounce(500,l)),o(".wowmall-lookbook-popup-content").remove(),o(".wowmall-lookbook-slide-wrapper .wowmall-lookbook-point").removeClass("active").on("click",e)}var s=[];o(document.body).hasClass("rtl");o(".wowmall-lookbook-slide-wrapper .wowmall-lookbook-point").on("click",e)}(jQuery);