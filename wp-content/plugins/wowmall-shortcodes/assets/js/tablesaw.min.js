/* Tablesaw - v2.0.3 - 2016-05-02
 * https://github.com/filamentgroup/tablesaw
 * Copyright (c) 2016 Filament Group; Licensed MIT */
if(typeof Tablesaw==="undefined"){Tablesaw={i18n:{modes:["Stack","Swipe","Toggle"],columns:'Col<span class="a11y-sm">umn</span>s',columnBtnText:"Columns",columnsDialogError:"No eligible columns.",sort:"Sort"},mustard:"querySelector" in document&&(!window.blackberry||window.WebKitPoint)&&!window.operamini}}if(!Tablesaw.config){Tablesaw.config={}}if(Tablesaw.mustard){jQuery(document.documentElement).addClass("tablesaw-enhanced")}(function(g){var f="table",e={toolbar:"tablesaw-bar"},d={create:"tablesawcreate",destroy:"tablesawdestroy",refresh:"tablesawrefresh"},c="stack",b="table[data-tablesaw-mode],table[data-tablesaw-sortable]";var a=function(h){if(!h){throw new Error("Tablesaw requires an element.")}this.table=h;this.$table=g(h);this.mode=this.$table.attr("data-tablesaw-mode")||c;this.init()};a.prototype.init=function(){if(!this.$table.attr("id")){this.$table.attr("id",f+"-"+Math.round(Math.random()*10000))}this.createToolbar();var h=this._initCells();this.$table.trigger(d.create,[this,h])};a.prototype._initCells=function(){var i,j=this.table.querySelectorAll("thead tr"),h=this;g(j).each(function(){var k=0;g(this).children().each(function(){var m=parseInt(this.getAttribute("colspan"),10),n=":nth-child("+(k+1)+")";i=k+1;if(m){for(var l=0;l<m-1;l++){k++;n+=", :nth-child("+(k+1)+")"}}this.cells=h.$table.find("tr").not(j[0]).not(this).children().filter(n);k++})});return i};a.prototype.refresh=function(){this._initCells();this.$table.trigger(d.refresh)};a.prototype.createToolbar=function(){var h=this.$table.prev().filter("."+e.toolbar);if(!h.length){h=g("<div>").addClass(e.toolbar).insertBefore(this.$table)}this.$toolbar=h;if(this.mode){this.$toolbar.addClass("mode-"+this.mode)}};a.prototype.destroy=function(){this.$table.prev().filter("."+e.toolbar).each(function(){this.className=this.className.replace(/\bmode\-\w*\b/gi,"")});var h=this.$table.attr("id");g(document).unbind("."+h);g(window).unbind("."+h);this.$table.trigger(d.destroy,[this]);this.$table.removeData(f)};g.fn[f]=function(){return this.each(function(){var i=g(this);if(i.data(f)){return}var h=new a(this);i.data(f,h)})};g(document).on("enhance.tablesaw",function(h){if(Tablesaw.mustard){g(h.target).find(b)[f]()}})}(jQuery));(function(f,e,g){var b={stackTable:"tablesaw-stack",cellLabels:"tablesaw-cell-label",cellContentLabels:"tablesaw-cell-content"};var d={obj:"tablesaw-stack"};var a={labelless:"data-tablesaw-no-labels",hideempty:"data-tablesaw-hide-empty"};var c=function(h){this.$table=e(h);this.labelless=this.$table.is("["+a.labelless+"]");this.hideempty=this.$table.is("["+a.hideempty+"]");if(!this.labelless){this.allHeaders=this.$table.find("th")}this.$table.data(d.obj,this)};c.prototype.init=function(j){this.$table.addClass(b.stackTable);if(this.labelless){return}var h=e(this.allHeaders);var i=this.hideempty;h.each(function(){var q=e(this),k=e(this.cells).filter(function(){return !e(this).parent().is("["+a.labelless+"]")&&(!i||!e(this).is(":empty"))}),p=k.not(this).filter("thead th").length&&" tablesaw-cell-label-top",n=q.find(".tablesaw-sortable-btn"),l=n.length?n.html():q.html();if(l!==""){if(p){var o=parseInt(e(this).attr("colspan"),10),m="";if(o){m="td:nth-child("+o+"n + "+(j)+")"}k.filter(m).prepend("<b class='"+b.cellLabels+p+"'>"+l+"</b>")}else{k.wrapInner("<span class='"+b.cellContentLabels+"'></span>");k.prepend("<b class='"+b.cellLabels+"'>"+l+"</b>")}}})};c.prototype.destroy=function(){this.$table.removeClass(b.stackTable);this.$table.find("."+b.cellLabels).remove();this.$table.find("."+b.cellContentLabels).each(function(){e(this).replaceWith(this.childNodes)})};e(document).on("tablesawcreate",function(k,j,h){if(j.mode==="stack"){var i=new c(j.table);i.init(h)}});e(document).on("tablesawdestroy",function(i,h){if(h.mode==="stack"){e(h.table).data(d.obj).destroy()}})}(this,jQuery));(function(c){var b="tablesawbtn",a={_create:function(){return c(this).each(function(){c(this).trigger("beforecreate."+b)[b]("_init").trigger("create."+b)})},_init:function(){var d=c(this),e=this.getElementsByTagName("select")[0];if(e){c(this).addClass("btn-select")[b]("_select",e)}return d},_select:function(d){var e=function(h,o){var n=c(o).find("option"),g,m,k;n.each(function(){var i=this;if(i.selected){g=document.createTextNode(i.text)}});k=h.childNodes;if(n.length>0){for(var j=0,f=k.length;j<f;j++){m=k[j];if(m&&m.nodeType===3){h.replaceChild(g,m)}}}};e(this,d);c(this).bind("change refresh",function(){e(this,d)})}};c.fn[b]=function(f,e,d,g){return this.each(function(){if(f&&typeof(f)==="string"){return c.fn[b].prototype[f].call(this,e,d,g)}if(c(this).data(b+"active")){return c(this)}c(this).data(b+"active",true);c.fn[b].prototype._create.call(this)})};c.extend(c.fn[b].prototype,a)}(jQuery));(function(c,a,d){var b=function(e){this.$table=a(e);this.classes={columnToggleTable:"tablesaw-columntoggle",columnBtnContain:"tablesaw-columntoggle-btnwrap tablesaw-advance",columnBtn:"tablesaw-columntoggle-btn tablesaw-nav-btn down",popup:"tablesaw-columntoggle-popup",priorityPrefix:"tablesaw-priority-",toolbar:"tablesaw-bar"};this.headers=this.$table.find("tr:first > th");this.$table.data("tablesaw-coltoggle",this)};b.prototype.init=function(){var i,g,j,e,f,k,o=this;this.$table.addClass(this.classes.columnToggleTable);i=this.$table.attr("id");g=i+"-popup";k=a("<div class='"+this.classes.columnBtnContain+"'></div>");j=a("<a href='#"+g+"' class='btn btn-micro "+this.classes.columnBtn+"' data-popup-link><span>"+Tablesaw.i18n.columnBtnText+"</span></a>");e=a("<div class='dialog-table-coltoggle "+this.classes.popup+"' id='"+g+"'></div>");f=a("<div class='btn-group'></div>");var l=false;a(this.headers).not("td").each(function(){var r=a(this),q=r.attr("data-tablesaw-priority"),p=o.$getCells(this);if(q&&q!=="persist"){p.addClass(o.classes.priorityPrefix+q);a("<label><input type='checkbox' checked>"+r.text()+"</label>").appendTo(f).children(0).data("tablesaw-header",this);l=true}});if(!l){f.append("<label>"+Tablesaw.i18n.columnsDialogError+"</label>")}f.appendTo(e);f.find('input[type="checkbox"]').on("change",function(q){var p=q.target.checked;o.$getCellsFromCheckbox(q.target).toggleClass("tablesaw-cell-hidden",!p).toggleClass("tablesaw-cell-visible",p);o.$table.trigger("tablesawcolumns")});j.appendTo(k);k.appendTo(this.$table.prev().filter("."+this.classes.toolbar));function m(p){if(p&&a(p.target).closest("."+o.classes.popup).length){return}a(document).unbind("click."+i);j.removeClass("up").addClass("down");k.removeClass("visible")}var n;function h(){k.addClass("visible");j.removeClass("down").addClass("up");a(document).unbind("click."+i,m);window.clearTimeout(n);n=window.setTimeout(function(){a(document).one("click."+i,m)},15)}j.on("click.tablesaw",function(p){p.preventDefault();if(!k.is(".visible")){h()}else{m()}});e.appendTo(k);this.$menu=f;a(window).on("resize."+i,function(){o.refreshToggle()});this.refreshToggle()};b.prototype.$getCells=function(e){return a(e).add(e.cells)};b.prototype.$getCellsFromCheckbox=function(f){var e=a(f).data("tablesaw-header");return this.$getCells(e)};b.prototype.refreshToggle=function(){var e=this;this.$menu.find("input").each(function(){this.checked=e.$getCellsFromCheckbox(this).eq(0).css("display")==="table-cell"})};b.prototype.refreshPriority=function(){var e=this;a(this.headers).not("td").each(function(){var h=a(this),g=h.attr("data-tablesaw-priority"),f=h.add(this.cells);if(g&&g!=="persist"){f.addClass(e.classes.priorityPrefix+g)}})};b.prototype.destroy=function(){this.$table.removeClass(this.classes.columnToggleTable);this.$table.find("th, td").each(function(){var e=a(this);e.removeClass("tablesaw-cell-hidden").removeClass("tablesaw-cell-visible");this.className=this.className.replace(/\bui\-table\-priority\-\d\b/g,"")})};a(document).on("tablesawcreate",function(h,g){if(g.mode==="columntoggle"){var f=new b(g.table);f.init()}});a(document).on("tablesawdestroy",function(g,f){if(f.mode==="columntoggle"){a(f.table).data("tablesaw-coltoggle").destroy()}})}(this,jQuery));(function(e,c,f){c.extend(Tablesaw.config,{swipe:{horizontalThreshold:15,verticalThreshold:30}});function d(){var h=document.createElement("div"),g=h.getElementsByTagName("i");h.innerHTML="<!--[if lte IE 8]><i></i><![endif]-->";return !!g.length}var a={toolbar:"tablesaw-bar",hideBtn:"disabled",persistWidths:"tablesaw-fix-persist",allColumnsVisible:"tablesaw-all-cols-visible"};function b(o){var E=c("<div class='tablesaw-advance'></div>"),m=c("<a href='#' class='tablesaw-nav-btn btn btn-micro left' title='Previous Column'></a>").appendTo(E),w=c("<a href='#' class='tablesaw-nav-btn btn btn-micro right' title='Next Column'></a>").appendTo(E),z=o.find("thead th"),l=z.not('[data-tablesaw-priority="persist"]'),t=[],p=c(document.head||"head"),q=o.attr("id"),r=!d();if(!z.length){throw new Error("tablesaw swipe: no header cells found. Are you using <th> inside of <thead>?")}o.css("width","auto");z.each(function(){t.push(c(this).outerWidth())});o.css("width","");E.appendTo(o.prev().filter(".tablesaw-bar"));o.addClass("tablesaw-swipe");if(!q){q="tableswipe-"+Math.round(Math.random()*10000);o.attr("id",q)}function D(F){return c(F.cells).add(F)}function A(F){D(F).removeClass("tablesaw-cell-hidden").addClass("tablesaw-cell-visible")}function h(F){D(F).addClass("tablesaw-cell-hidden").removeClass("tablesaw-cell-visible")}function x(F){D(F).addClass("tablesaw-cell-persist")}function n(F){return c(F).is('[data-tablesaw-priority="persist"]')}function v(){o.removeClass(a.persistWidths);c("#"+q+"-persist").remove()}function C(){var J="#"+q+".tablesaw-swipe ",I=[],F=o.width(),K=[],H;z.each(function(L){var M;if(n(this)){M=c(this).outerWidth();if(M<F*0.75){K.push(L+"-"+M);I.push(J+" .tablesaw-cell-persist:nth-child("+(L+1)+") { width: "+M+"px; }")}}});H=K.join("_");o.addClass(a.persistWidths);var G=c("#"+q+"-persist");if(!G.length||G.data("hash")!==H){G.remove();if(I.length){c("<style>"+I.join("\n")+"</style>").attr("id",q+"-persist").data("hash",H).appendTo(p)}}}function k(){var G=[],F;l.each(function(I){var J=c(this),H=J.css("display")==="none"||J.is(".tablesaw-cell-hidden");if(!H&&!F){F=true;G[0]=I}else{if(H&&F){G[1]=I;return false}}});return G}function j(){var F=k();return[F[1]-1,F[0]-1]}function B(F){return F?k():j()}function y(F){return F[1]>-1&&F[1]<l.length}function g(){var F=o.attr("data-tablesaw-swipe-media");return !F||("matchMedia" in e)&&e.matchMedia(F).matches}function s(){if(!g()){return}var K=20,J=o.parent().width(),I=[],H=0,G=[],F=z.length;z.each(function(N){var O=c(this),M=O.is('[data-tablesaw-priority="persist"]');I.push(M);H+=t[N]+(M?0:K);G.push(H);if(M||H>J){F--}});var L=F===0;z.each(function(M){if(I[M]){x(this);return}if(G[M]<=J||L){L=false;A(this)}else{h(this)}});if(r){v()}o.trigger("tablesawcolumns")}function u(F){var G=B(F);if(y(G)){if(isNaN(G[0])){if(F){G[0]=0}else{G[0]=l.length-1}}if(r){C()}h(l.get(G[0]));A(l.get(G[1]));o.trigger("tablesawcolumns")}}m.add(w).click(function(F){u(!!c(F.target).closest(w).length);F.preventDefault()});function i(G,F){return(G.touches||G.originalEvent.touches)[0][F]}o.bind("touchstart.swipetoggle",function(I){var H=i(I,"pageX"),G=i(I,"pageY"),F,J;c(e).off("resize",s);c(this).bind("touchmove",function(L){F=i(L,"pageX");J=i(L,"pageY");var K=Tablesaw.config.swipe;if(Math.abs(F-H)>K.horizontalThreshold&&Math.abs(J-G)<K.verticalThreshold){L.preventDefault()}}).bind("touchend.swipetoggle",function(){var K=Tablesaw.config.swipe;if(Math.abs(J-G)<K.verticalThreshold){if(F-H<-1*K.horizontalThreshold){u(true)}if(F-H>K.horizontalThreshold){u(false)}}window.setTimeout(function(){c(e).on("resize",s)},300);c(this).unbind("touchmove touchend")})}).bind("tablesawcolumns.swipetoggle",function(){var G=y(j());var F=y(k());m[G?"removeClass":"addClass"](a.hideBtn);w[F?"removeClass":"addClass"](a.hideBtn);m.closest("."+a.toolbar)[!G&&!F?"addClass":"removeClass"](a.allColumnsVisible)}).bind("tablesawnext.swipetoggle",function(){u(true)}).bind("tablesawprev.swipetoggle",function(){u(false)}).bind("tablesawdestroy.swipetoggle",function(){var F=c(this);F.removeClass("tablesaw-swipe");F.prev().filter(".tablesaw-bar").find(".tablesaw-advance").remove();c(e).off("resize",s);F.unbind(".swipetoggle")});s();c(e).on("resize",s)}c(document).on("tablesawcreate",function(h,g){if(g.mode==="swipe"){b(g.$table)}})}(this,jQuery));(function(f){function g(i){return f.map(i.childNodes,function(k){var j=f(k);if(j.is("input, select")){return j.val()}else{if(j.hasClass("tablesaw-cell-label")){return}}return f.trim(j.text())}).join("")}var e="tablesaw-sortable",c="table[data-"+e+"]",h="[data-"+e+"-switch]",b={defaultCol:"data-tablesaw-sortable-default-col",numericCol:"data-tablesaw-sortable-numeric"},d={head:e+"-head",ascend:e+"-ascending",descend:e+"-descending",switcher:e+"-switch",tableToolbar:"tablesaw-toolbar",sortButton:e+"-btn"},a={_create:function(i){return f(this).each(function(){var j=f(this).data("init"+e);if(j){return false}f(this).data("init"+e,true).trigger("beforecreate."+e)[e]("_init",i).trigger("create."+e)})},_init:function(){var j=f(this),p,k;var m=function(){j.addClass(e)},l=function(s){f.each(s,function(u,t){f(t).addClass(d.head)})},o=function(t,s){f.each(t,function(x,w){var u=f("<button class='"+d.sortButton+"'/>");u.bind("click",{col:w},s);f(w).wrapInner(u)})},r=function(s){f.each(s,function(w,t){var u=f(t);u.removeAttr(b.defaultCol);u.removeClass(d.ascend);u.removeClass(d.descend)})},q=function(u){if(f(u.target).is("a[href]")){return}u.stopPropagation();var t=f(this).parent(),s=u.data.col,w=p.index(t);r(t.siblings());if(t.hasClass(d.descend)){j[e]("sortBy",s,true);w+="_asc"}else{j[e]("sortBy",s);w+="_desc"}if(k){k.find("select").val(w).trigger("refresh")}u.preventDefault()},i=function(s){f.each(s,function(t,v){var u=f(v);if(u.is("["+b.defaultCol+"]")){if(!u.hasClass(d.descend)){u.addClass(d.ascend)}}})},n=function(t){k=f("<div>").addClass(d.switcher).addClass(d.tableToolbar).html(function(){var v=["<label>"+Tablesaw.i18n.sort+":"];v.push('<span class="btn btn-small">&#160;<select>');t.each(function(x){var D=f(this);var w=D.is("["+b.defaultCol+"]");var z=D.hasClass(d.descend);var C=D.is("[data-sortable-numeric]");var B=0;var y=5;f(this.cells).slice(0,y).each(function(){if(!isNaN(parseInt(g(this),10))){B++}});var A=B===y;if(!C){D.attr("data-sortable-numeric",A?"":"false")}v.push("<option"+(w&&!z?" selected":"")+' value="'+x+'_asc">'+D.text()+" "+(A?"&#x2191;":"(A-Z)")+"</option>");v.push("<option"+(w&&z?" selected":"")+' value="'+x+'_desc">'+D.text()+" "+(A?"&#x2193;":"(Z-A)")+"</option>")});v.push("</select></span></label>");return v.join("")});var s=j.prev().filter(".tablesaw-bar"),u=s.children().eq(0);if(u.length){k.insertBefore(u)}else{k.appendTo(s)}k.find(".btn").tablesawbtn();k.find("select").on("change",function(){var w=f(this).val().split("_"),v=t.eq(w[0]);r(v.siblings());j[e]("sortBy",v.get(0),w[1]==="asc")})};m();p=j.find("thead th[data-"+e+"-col]");l(p);o(p,q);i(p);if(j.is(h)){n(p,j.find("tbody tr:nth-child(-n+3)"))}},getColumnNumber:function(i){return f(i).prevAll().length},getTableRows:function(){return f(this).find("tbody tr")},sortRows:function(s,i,k,j){var r,o,n;var l=function(u){var t=[];f.each(u,function(w,x){var v=f(x).children().get(i);t.push({element:v,cell:g(v),rowNum:w})});return t},p=function(u,w){var t,v=/[^\-\+\d\.]/g;if(u){t=function(y,x){if(w){return parseFloat(y.cell.replace(v,""))-parseFloat(x.cell.replace(v,""))}else{return y.cell.toLowerCase()>x.cell.toLowerCase()?1:-1}}}else{t=function(y,x){if(w){return parseFloat(x.cell.replace(v,""))-parseFloat(y.cell.replace(v,""))}else{return y.cell.toLowerCase()<x.cell.toLowerCase()?1:-1}}}return t},q=function(u,x){var w=[],v,t,y;for(v=0,t=u.length;v<t;v++){y=u[v].rowNum;w.push(x[y])}return w};r=l(s);var m=f(j).data("tablesaw-sort");o=(m&&typeof m==="function"?m(k):false)||p(k,f(j).is("[data-sortable-numeric]")&&!f(j).is('[data-sortable-numeric="false"]'));n=r.sort(o);s=q(n,s);return s},replaceTableRows:function(k){var j=f(this),i=j.find("tbody");i.html(k)},makeColDefault:function(j,i){var k=f(j);k.attr(b.defaultCol,"true");if(i){k.removeClass(d.descend);k.addClass(d.ascend)}else{k.removeClass(d.ascend);k.addClass(d.descend)}},sortBy:function(j,l){var k=f(this),i,m;i=k[e]("getColumnNumber",j);m=k[e]("getTableRows");m=k[e]("sortRows",m,i,l,j);k[e]("replaceTableRows",m);k[e]("makeColDefault",j,l)}};f.fn[e]=function(j){var i=Array.prototype.slice.call(arguments,1),k;if(j&&typeof(j)==="string"){k=f.fn[e].prototype[j].apply(this[0],i);return(typeof k!=="undefined")?k:f(this)}if(!f(this).data(e+"data")){f(this).data(e+"active",true);f.fn[e].prototype._create.call(this,j)}return f(this)};f.extend(f.fn[e].prototype,a);f(document).on("tablesawcreate",function(j,i){if(i.$table.is(c)){i.$table[e]()}})}(jQuery));(function(c,b,d){var e={attr:{init:"data-tablesaw-minimap"}};function a(j){var i=b('<div class="tablesaw-advance minimap">'),l=b('<ul class="tablesaw-advance-dots">').appendTo(i),h="tablesaw-advance-dots-hide",k=j.find("thead th");k.each(function(){l.append("<li><i></i></li>")});i.appendTo(j.prev().filter(".tablesaw-bar"));function f(m){var n=m.attr(e.attr.init);return !n||c.matchMedia&&c.matchMedia(n).matches}function g(){if(!f(j)){i.hide();return}i.show();var m=l.find("li").removeClass(h);j.find("thead th").each(function(n){if(b(this).css("display")==="none"){m.eq(n).addClass(h)}})}g();b(c).on("resize",g);j.bind("tablesawcolumns.minimap",function(){g()}).bind("tablesawdestroy.minimap",function(){var m=b(this);m.prev().filter(".tablesaw-bar").find(".tablesaw-advance").remove();b(c).off("resize",g);m.unbind(".minimap")})}b(document).on("tablesawcreate",function(g,f){if((f.mode==="swipe"||f.mode==="columntoggle")&&f.$table.is("[ "+e.attr.init+"]")){a(f.$table)}})}(this,jQuery));(function(c,b){var a={selectors:{init:"table[data-tablesaw-mode-switch]"},attributes:{excludeMode:"data-tablesaw-mode-exclude"},classes:{main:"tablesaw-modeswitch",toolbar:"tablesaw-toolbar"},modes:["stack","swipe","columntoggle"],init:function(i){var e=b(i),j=e.attr(a.attributes.excludeMode),d=e.prev().filter(".tablesaw-bar"),h="",f=b("<div>").addClass(a.classes.main+" "+a.classes.toolbar).html(function(){var o=["<label>"+Tablesaw.i18n.columns+":"],p=e.attr("data-tablesaw-mode"),n;o.push('<span class="btn btn-small">&#160;<select>');for(var m=0,l=a.modes.length;m<l;m++){if(j&&j.toLowerCase()===a.modes[m]){continue}n=p===a.modes[m];if(n){h=a.modes[m]}o.push("<option"+(n?" selected":"")+' value="'+a.modes[m]+'">'+Tablesaw.i18n.modes[m]+"</option>")}o.push("</select></span></label>");return o.join("")});var g=d.find(".tablesaw-advance").eq(0);if(g.length){f.insertBefore(g)}else{f.appendTo(d)}f.find(".btn").tablesawbtn();f.find("select").bind("change",a.onModeChange)},onModeChange:function(){var g=b(this),e=g.closest("."+a.classes.main),d=g.closest(".tablesaw-bar").nextUntil(d).eq(0),f=g.val();e.remove();d.data("table").destroy();d.attr("data-tablesaw-mode",f);d.table()}};b(c.document).on("tablesawcreate",function(f,d){if(d.$table.is(a.selectors.init)){a.init(d.table)}})})(this,jQuery);