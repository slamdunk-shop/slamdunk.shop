(function(a){a(document).ready(function(){var b="loading",d="added in_wishlist",c=".wowmall-wishlist-button";function e(){a(c).each(function(){var g=a(this);g.off("click").on("click",function(h){h.preventDefault();if(g.hasClass("in_wishlist")){return}g.removeClass(d).addClass(b);a.post(wowmallParams.ajax_url,{action:"wowmall_wishlist_add",url:a(document.body).hasClass("single-product")?encodeURIComponent(location.href):encodeURIComponent(g.closest(".product").find(".woocommerce-LoopProduct-link").attr("href"))},function(i){g.removeClass(b);if(i.success){g.addClass(d).find(".wowmall_wishlist_product_actions_tip").text(wowmallWishlist.addedText)}})})})}function f(){a(".wowmall-wishlist-remove").off("click").on("click",function(h){h.preventDefault();var g=a(h.currentTarget),i=a("div.wowmall-wishlist");i.addClass(b);a.post(wowmallParams.ajax_url,{action:"wowmall_wishlist_remove",pid:g.data("id")},function(j){i.removeClass(b);if(j.success){a("div.wowmall-wishlist-wrapper").html(j.data);a(document).trigger("wowmall_wc_products_changed")}})})}f();e();a(document).on("wowmall_wc_products_changed",function(){f();e()})})}(jQuery));