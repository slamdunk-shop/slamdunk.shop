(function(a){a(document).ready(function(){var d="loading",c="added in_compare",b=".wowmall-compare-button";function e(){a(b).each(function(){var g=a(this);g.off("click").on("click",function(h){h.preventDefault();g.removeClass(c).addClass(d);a.post(wowmallParams.ajax_url,{action:"wowmall_compare_button",url:encodeURIComponent(g.closest(".product").find(".woocommerce-LoopProduct-link").attr("href"))},function(i){g.removeClass(d);if(i.success){switch(i.data.action){case"add":g.addClass(c).find(".wowmall_compare_product_actions_tip").text(wowmallCompare.removeText);break;case"remove":g.removeClass(c).find(".wowmall_compare_product_actions_tip").text(wowmallCompare.compareText);break;default:break}}})})})}function f(){a(".wowmall-compare-remove span").off("click").on("click",function(h){h.preventDefault();var g=a(h.currentTarget),i=a("div.wowmall-compare-list");i.addClass(d);a.post(wowmallParams.ajax_url,{action:"wowmall_compare_remove",pid:g.data("id")},function(j){i.removeClass(d);if(j.success){a("div.wowmall-compare-wrapper").html(j.data);a(document).trigger("wowmall_wc_products_changed").trigger("enhance.tablesaw")}})})}f();e();a(document).on("wowmall_wc_products_changed",function(){f();e()})})}(jQuery));