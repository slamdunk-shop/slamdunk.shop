(function(c){if("undefined"!==typeof wowmall_gallery&&"undefined"!==typeof wowmallParams){var a;c("#wowmall-gallery").magnificPopup({delegate:"a.zoom-gallery",type:"image",tLoading:wowmallParams.preloader,fixedContentPos:true,mainClass:"wowmall-gallery-lightbox mfp-fade mfp-with-zoom",closeMarkup:'<button title="%title%" type="button" class="mfp-close">юби</button>',gallery:{enabled:true,navigateByImgClick:true,preload:[0,1]},image:{tError:'<a href="%url%">The image #%curr%</a> could not be loaded.',titleSrc:function(e){return e.el.attr("title")},markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-top-bar"><h3 class="mfp-title"></h3><div class="mfp-tags"></div></div></figcaption></figure></div>'},zoom:{enabled:true,duration:300,easing:"ease-in-out",opener:function(e){return e.find("img")}},callbacks:{open:function(){var f=this;if(!c("body").hasClass("mobile")){if(wowmall_gallery.thumbs_swiper){var g=this.index;c(this.container).append('<div class="mfp-thumbs mfp-prevent-close"/>');var e=c(this.container).find(".mfp-thumbs");e.append(wowmall_gallery.thumbs_swiper);a=new Swiper(e.find("#mfp-swiper"),{initialSlide:g,grabCursor:false,slidesPerView:"auto",scrollbar:".swiper-scrollbar",scrollbarHide:false,scrollbarDraggable:true,scrollbarSnapOnRelease:true,centeredSlides:true,onImagesReady:function(h){c(h.scrollbar.drag).addClass("mfp-prevent-close");d(g,h)}});c(a.slides).click(function(){f.goTo(c(this).index());d(c(this).index(),a)})}return}c(".mfp-container").swipe({swipeLeft:function(){f.next()},swipeRight:function(){f.prev()}})},imageLoadComplete:function(){var f=this.index,e=c(this.ev).find(".wowmall-gallery-item:not(.wowmall-gallery-cat-item)").eq(f).find(".gallery-tags").html(),g=c(this.container).find(".mfp-tags");g.html(e)},change:function(){if("undefined"!==typeof a){var e=this.index;d(e,a)}}}});c("a.zoom-cat-gallery").each(function(){var h=c(this),i=h.data("cid");if(undefined!==window["wowmall_gallery_"+i]){var e=window["wowmall_gallery_"+i]["items"],g=window["wowmall_gallery_"+i]["thumbs"]?window["wowmall_gallery_"+i]["thumbs"]:false,f=window["wowmall_gallery_"+i]["tags"]?window["wowmall_gallery_"+i]["tags"]:false;if(undefined!==e){h.magnificPopup({type:"image",items:e,tLoading:wowmallParams.preloader,mainClass:"wowmall-gallery-lightbox mfp-fade mfp-with-zoom",closeMarkup:'<button title="%title%" type="button" class="mfp-close">юби</button>',fixedContentPos:true,gallery:{enabled:true,navigateByImgClick:true,preload:[0,1]},image:{tError:'<a href="%url%">The image #%curr%</a> could not be loaded.',markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-top-bar"><h3 class="mfp-title"></h3><div class="mfp-tags"></div></div></figcaption></figure></div>'},callbacks:{open:function(){var k=this;if(!c("body").hasClass("mobile")){if(g){var l=this.index;c(this.container).append('<div class="mfp-thumbs mfp-prevent-close"/>');var j=c(this.container).find(".mfp-thumbs");j.append(g);a=new Swiper(j.find("#mfp-swiper"),{initialSlide:l,grabCursor:false,slidesPerView:"auto",scrollbar:".swiper-scrollbar",scrollbarHide:false,scrollbarDraggable:true,scrollbarSnapOnRelease:true,centeredSlides:true,onImagesReady:function(m){c(m.scrollbar.drag).addClass("mfp-prevent-close");d(l,m)}});c(a.slides).click(function(){k.goTo(c(this).index());d(c(this).index(),a)})}return}c(".mfp-container").swipe({swipeLeft:function(){k.next()},swipeRight:function(){k.prev()}})},imageLoadComplete:function(){if(!f){return}var j=this.index,k=c(this.container).find(".mfp-tags");k.html(f[j])},change:function(){if("undefined"!==typeof a){var j=this.index;d(j,a)}}}})}}})}function d(g,f){f.slideTo(g);var e=c(f.slides[g]);c(f.container).find(".swiper-slide").removeClass("swiper-slide-force-active swiper-slide-force-prev swiper-slide-force-next");e.addClass("swiper-slide-force-active");if(0<g){c(f.slides[g-1]).addClass("swiper-slide-force-prev")}if("undefined"!==typeof f.slides[g+1]){c(f.slides[g+1]).addClass("swiper-slide-force-next")}}function b(){c("#wowmall-gallery").each(function(){var h=c(this).find(".wowmall-gallery-wrapper"),f=h.find(".wowmall-gallery-container"),g=f.data("cols"),e=parseInt(h.width()/g)*g;f.css({maxWidth:e})})}b();c(window).on("resize",c.debounce(500,b))})(jQuery);