(function(g){var j=[],i=[];function f(n){var m=n.currentTarget;g(m).off("mouseenter",f);var l=g(m).find('img[class*="size-"]').attr("class");if(l){var o=true;g(m).on("mouseleave",function(){o=false}).on("mouseenter",function(){o=true});g(m).addClass("effect-"+wowmallWcLoop.effect);l=l.split(" ");l.some(function(q){if(0===q.indexOf("size-")){l=q.split("-")[1];return}});var p=g(m).closest(".product").attr("class").split(" ");p.some(function(q){if(0===q.indexOf("post-")){p=q.split("-")[1];return}});g.get(wowmallWcLoop.shortinit_ajax_url,{id:p,action:"wowmall_get_loop_thumb",size:l},function(q){if(q.data){g("<img />").on("load",function(){g(m).append(g(this)).off("mouseenter mouseleave");if(o){g(m).addClass("hover")}if("cube"===wowmallWcLoop.effect||"flip"===wowmallWcLoop.effect){g(m).wrapInner("<div class=swiper-wrapper/>").wrapInner('<div class="swiper-container wc-loop-thumbs-swiper"/>').find("img").addClass("swiper-slide");j.push(new Swiper(g(m).find(".wc-loop-thumbs-swiper"),{effect:wowmallWcLoop.effect,grabCursor:false,speed:600,followFinger:false,cube:{shadow:false,slideShadows:true,shadowOffset:20,shadowScale:0.94},onInit:function(r){g(m).addClass("preloaded").on("mouseenter focus",function(){r.slideNext()}).on("mouseleave focusout",function(){r.slidePrev()});setTimeout(function(){if(o){r.slideNext()}},100)}}))}else{g(m).addClass("preloaded").on("mouseenter",function(){g(m).removeClass("unhover").addClass("hover")}).on("mouseleave",function(){g(m).removeClass("hover").addClass("unhover")});if(o){g(m).addClass("hover")}}}).attr({src:q.data.src,sizes:q.data.sizes,srcset:q.data.srcset,"class":"wowmall-hover-img"})}}).fail(function(q){if(500===q.status){wowmallWcLoop.shortinit_ajax_url=wowmallParams.ajax_url;f(n)}})}else{g(m).addClass("preloaded")}}function k(){if(!!wowmallWcLoop.thumbsHover&&g(document.body).hasClass("desktop")){g(".woocommerce-LoopProduct-link:not(.preloaded)").each(function(l,m){g(m).off("mouseenter",f).on("mouseenter",f)})}}k();g.productThumbsSwipers=function(){g(".wc-loop-product-wrapper *").on("mouseenter",function(){g(this).closest(".wc-loop-product-wrapper").addClass("active")}).on("mouseleave",function(){g(this).closest(".wc-loop-product-wrapper").removeClass("active")})};function h(m,l){if(m.hasClass("selected")){return false}l.val(m.data("value")).trigger("change");m.addClass("selected").siblings().removeClass("selected")}function d(){g(".variations select:not(.wowmall-color):not(.wowmall-size)").select2();g(".variations select.wowmall-color").each(function(){var l=g(this),p=l.attr("id")+"-color",o=g('label[for="'+l.attr("id")+'"]'),m=o.html();if(l.next().hasClass("wowmall-color-select")){return}o.data("default-label",m);g(this).after('<div class="wowmall-color-select" id="'+p+'"/>');var n=g("#"+p);l.find("option[data-color]").each(function(){var r=g(this),q=r.prop("selected")?" selected":"";n.append('<button type="button" title="'+r.text()+'" data-value="'+r.val()+'" class="'+q+'" style="background-color: '+r.data("color")+'">'+r.text()+"</button>");if(q){o.html(m+" <span class=wowmall-current-color-label>"+r.text()+"</span>")}});l.hide();n.find("button").on("click",function(){h(g(this),l);o.html(m+" <span class=wowmall-current-color-label>"+g(this).attr("title")+"</span>")})});g(".variations select.wowmall-size").each(function(){var l=g(this),n=l.attr("id")+"-size";if(l.next().hasClass("wowmall-size-select")){return}g(this).after('<div class="wowmall-size-select" id="'+n+'"/>');var m=g("#"+n);l.find("option:not(.blank-option)").each(function(){var p=g(this),o=p.prop("selected")?" selected":"";m.append('<button type="button" title="'+p.text()+'" data-value="'+p.val()+'" class="'+o+'">'+p.text()+"</button>")});l.hide();m.find("button").on("click",function(){h(g(this),l)})});g(".variations_form").off("reset_data").on("reset_data",function(){g(".reset_variations").off("click").on("click",c)}).on("reset_data",c).on("woocommerce_update_variation_values",function(){g(".variations .wowmall-color-select, .variations .wowmall-size-select").each(function(){var l=g(this).parent().find("select");g(this).find("button").each(function(){if(l.find('option[value="'+g(this).data("value")+'"]').length){g(this).show()}else{g(this).hide()}})})})}d();function c(){g(".variations_form").off("reset_data",c);g(".variations select.wowmall-color").each(function(){var l=g(this);g("#"+l.attr("id")+"-color button").removeClass("selected");g('label[for="'+l.attr("id")+'"]').html(g('label[for="'+l.attr("id")+'"]').data("default-label"))});g(".variations select.wowmall-size").each(function(){var l=g(this);g("#"+l.attr("id")+"-size button").removeClass("selected")});if(g().select2){g(".variations select:not(.wowmall-color):not(.wowmall-size)").select2()}}function b(){if(!i.length){g(".wowmall-wc-quick-view-button").each(function(l,m){i.push({src:wowmallParams.ajax_url+"?url="+encodeURIComponent(g(m).closest(".product").find(".woocommerce-LoopProduct-link").attr("href"))+"&action=wowmall_wc_quick_view"})})}return i}g.btnQuickViewInit=function(){if("undefined"===typeof wowmallParams){return}g(".wowmall-wc-quick-view-button").each(function(l,m){g(m).off("click").on("click",function(){g.magnificPopup.open({items:b(),type:"ajax",tLoading:wowmallParams.preloader,mainClass:"mfp-zoom-out wowmall-wc-lightbox",removalDelay:500,callbacks:{open:function(){g(document.body).addClass("overflow-hidden");g(document).trigger("animate_svg")},change:function(){g(document).trigger("animate_svg")},parseAjax:function(n){n.data=n.data.data},ajaxContentAdded:function(){if(typeof wc_add_to_cart_variation_params!=="undefined"){a(g(this.content));g(this.content).find(".variations_form").wc_variation_form().find(".variations select:eq(0)").change()}var n=g(".quick-view-images > a > .swiper-container");new Swiper(n,{grabCursor:false,nextButton:"#next-quick-view",prevButton:"#prev-quick-view",lazyLoadingInPrevNext:true,lazyLoadingOnTransitionStart:true,preloadImages:false,lazyLoading:true,effect:n.data("effect"),cube:{shadow:false,slideShadows:true,shadowOffset:20,shadowScale:0.94}});d();g(document.body).trigger("wowmall_wc_quick_view_opened")},close:function(){g(document.body).removeClass("overflow-hidden")}},gallery:{enabled:true}},l)})})};g.btnQuickViewInit();function a(l){l.find(".variations_form").on("reset_image",function(p){var m=g(p.target),o=m.closest(".product"),n=o.find("div.images .swiper-slide:eq(0) img");n.wc_reset_variation_attr("src");n.wc_reset_variation_attr("srcset");n.wc_reset_variation_attr("sizes");n.wc_reset_variation_attr("title");n.wc_reset_variation_attr("alt");l.find(".variations_form").off("found_variation",e).on("found_variation",e)});l.find(".variations_form").on("wc_variation_form",function(){l.find(".variations_form").on("update_variation_values",function(){g(".variations_form").off("found_variation",e).on("found_variation",e)});l.find(".variations_form").trigger("check_variations")})}function e(q,n){var l=g(q.target),p=l.closest(".product"),m=p.find("div.images .swiper-slide:eq(0) img");if(n&&n.image.src&&n.image.src.length>1){m.wc_set_variation_attr("src",n.image.src);m.wc_set_variation_attr("srcset",n.image.srcset);m.wc_set_variation_attr("sizes",n.image.sizes);m.wc_set_variation_attr("title",n.image.title);m.wc_set_variation_attr("alt",n.image.alt)}else{m.wc_reset_variation_attr("src");m.wc_reset_variation_attr("srcset");m.wc_reset_variation_attr("sizes");m.wc_reset_variation_attr("title");m.wc_reset_variation_attr("alt")}var o=g("div.product div.images a.zoom:eq(0)")[0];if("undefined"===typeof o){return}g.wowmall_lazy_images()}g(document.body).on("added_to_cart wowmall_added_to_cart",function(o,l,m,p){p=typeof p==="undefined"?false:p;if(!wc_add_to_cart_params.is_cart&&p){var n=p.closest(".product"),q=n.find(".added_to_cart");if(q.length!==0){if("undefined"!==typeof wowmallWcLoop){p.find(".add_to_cart_button_text").text(wowmallWcLoop.added_to_cart)}if(n.hasClass("product-list")||n.hasClass("wowmall-compare-cell")){if(g("body").hasClass("mobile")){q.addClass("btn btn-inline")}else{q.addClass("btn btn-default btn-sm")}}g(document.body).trigger("wowmall_resresh_header_cart")}else{setTimeout(function(){g(document.body).trigger("wowmall_added_to_cart",[null,null,p])},100)}}});if(g().masonry){g(".masonry > ul.products").masonry({itemSelector:".product-category",columnWidth:".grid-sizer",percentPosition:true})}g(".widget_product_categories select").select2({minimumResultsForSearch:10});g(window).on("wowmall_thumbs_swiper_reset_hover",function(){for(var l in j){j[l].slidePrev()}});g(document).on("wowmall_wc_products_changed",function(){j=[];k();g.btnQuickViewInit();g.wowmall_lazy_images()});if(g().tab){g('.page-my-account a[data-toggle="tab"]').on("shown.bs.tab",function(l){g("form.register #reg_password, form.checkout #account_password, form.edit-account #password_1, form.lost_reset_password #password_1").trigger("change");g(window).on("load",function(){g("form.register #reg_password, form.checkout #account_password, form.edit-account #password_1, form.lost_reset_password #password_1").trigger("change")});g.wowmall_lazy_images();if(history.pushState){history.pushState(null,null,l.target.hash)}}).tab();if(window.location.hash){g('.page-my-account a[data-toggle="tab"][href="'+window.location.hash+'"]').tab("show")}}g(document).on("enhance.tablesaw",function(){g(".wowmall-compare-table").on("tablesawcolumns",function(){g(".tablesaw-cell-visible").removeAttr("style");g(".wowmall-compare-row").each(function(){g(this).find(".tablesaw-cell-visible").last().css({width:"auto","min-width":"334px"})});g.wowmall_lazy_images()})})})(jQuery);